{"version":3,"sources":["webpack:///./src/components/message.js","webpack:///./src/pages/contact.js","webpack:///./node_modules/emailjs-com/source/index.js","webpack:///./node_modules/emailjs-com/source/models/EmailJSResponseStatus.js","webpack:///./node_modules/emailjs-com/source/services/ui/UI.js"],"names":["Message","props","state","display","render","this","className","style","position","top","left","right","padding","onClick","setState","children","Component","defaultProps","ContactPage","handleSubmit","e","preventDefault","emailjs","send","process","then","alert","window","location","href","handleChange","target","name","value","from_name","from_mail","message_html","inputStyle","backgroundColor","color","borderWidth","title","keywords","data-netlify","onSubmit","type","onChange","Object","defineProperty","exports","EmailJSResponseStatus_1","EmailJSResponseStatus","UI_1","_userID","_origin","sendPost","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","key","addEventListener","event","responseStatus","status","text","open","setRequestHeader","appendGoogleCaptcha","templatePrams","element","document","getElementById","init","userID","origin","serviceID","templateID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","sendForm","form","querySelector","nodeName","UI","progressState","formData","FormData","append","response","successState","error","errorState","httpResponse","responseText","clearAll","classList","remove","PROGRESS","DONE","ERROR","add"],"mappings":"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","file":"component---src-pages-contact-js-22db763de3d537e078f9.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Message extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: true,\n    };\n  }\n\n  render() {\n    return this.state.display ? (\n      <div\n        className=\"container\"\n        style={{\n          position: \"fixed\",\n          top: \"3rem\",\n          left: \"0\",\n          right: \"0\",\n          padding: \"1rem\",\n        }}\n      >\n        <div\n          className={`notification has-text-centered ${this.props.className}`}\n        >\n          <button\n            className=\"delete\"\n            onClick={() => {\n              this.setState({ display: false });\n            }}\n          />\n          {this.props.children}\n        </div>\n      </div>\n    ) : (\n        \"\"\n      );\n  }\n}\n\nMessage.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n};\n\nMessage.defaultProps = {\n  className: ``,\n};\n\nexport default Message;","import React, { Component } from \"react\";\n\nimport Layout from \"../components/layout\";\nimport Message from \"../components/message\";\nimport SEO from \"../components/seo\";\nimport { Heading } from \"../components/typography\";\nimport { Content } from \"../components/content\";\nimport emailjs from 'emailjs-com';\n\nclass ContactPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { from_name: \"\", from_mail: \"\", message_html: \"\" };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    emailjs.send('gmail', process.env.EMAILJS_TEMPLATE_ID, this.state, process.env.EMAILJS_USER_ID)\n      .then(() => {\n        alert(\"Success!\");\n        window.location.href = '/';\n      }, () => {\n        alert(\"FAILED...'\");\n        window.location.href = '/';\n      });\n  };\n\n  handleChange = e => this.setState({ [e.target.name]: e.target.value });\n\n  render() {\n    const { from_name, from_mail, message_html } = this.state;\n    const inputStyle = {\n      backgroundColor: \"rgba(0,0,0,0.2)\",\n      color: \"#fff\",\n      borderWidth: \"2px\",\n    };\n    return (\n      <Layout>\n        <SEO title=\"Home\" keywords={[`gatsby`, `application`, `react`]} />\n        <Message className=\"is-primary\">\n          <p className=\"subtitle\">\n            こちらよりかはWandetlyやGreenなどのほうが嬉しいです。\n          </p>\n        </Message>\n        <Content>\n          <section className=\"hero has-background-grey-darker has-text-white is-fullheight\">\n            <div className=\"hero-body\">\n              <div className=\"container\">\n                <Heading>お問い合わせ</Heading>\n                <form name=\"contact\" data-netlify=\"true\" onSubmit={this.handleSubmit}>\n                  <div className=\"field\">\n                    <label className=\"label has-text-white\">お名前</label>\n                    <div className=\"control\">\n                      <input\n                        style={inputStyle}\n                        className=\"input\"\n                        type=\"text\"\n                        name=\"from_name\"\n                        value={from_name}\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label has-text-white\">メールアドレス</label>\n                    <div className=\"control\">\n                      <input\n                        style={inputStyle}\n                        className=\"input\"\n                        type=\"email\"\n                        name=\"from_mail\"\n                        value={from_mail}\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label has-text-white\">内容</label>\n                    <div className=\"control\">\n                      <textarea\n                        style={inputStyle}\n                        className=\"textarea\"\n                        name=\"message_html\"\n                        value={message_html}\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <button\n                        className=\"button is-dark is-inverted is-outlined\"\n                        type=\"submit\"\n                      >\n                        送信\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </section>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nexport default ContactPage;","\"use strict\";\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar EmailJSResponseStatus_1 = require(\"./models/EmailJSResponseStatus\");\n\nexports.EmailJSResponseStatus = EmailJSResponseStatus_1.EmailJSResponseStatus;\n\nvar UI_1 = require(\"./services/ui/UI\");\n\nvar _userID = null;\nvar _origin = 'https://api.emailjs.com';\n\nfunction sendPost(url, data, headers) {\n  if (headers === void 0) {\n    headers = {};\n  }\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', function (event) {\n      var responseStatus = new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target);\n\n      if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n        resolve(responseStatus);\n      } else {\n        reject(responseStatus);\n      }\n    });\n    xhr.addEventListener('error', function (event) {\n      reject(new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target));\n    });\n    xhr.open('POST', url, true);\n\n    for (var key in headers) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n\n    xhr.send(data);\n  });\n}\n\nfunction appendGoogleCaptcha(templatePrams) {\n  var element = document.getElementById('g-recaptcha-response');\n\n  if (element && element.value) {\n    templatePrams['g-recaptcha-response'] = element.value;\n  }\n\n  element = null;\n  return templatePrams;\n}\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\n\n\nfunction init(userID, origin) {\n  _userID = userID;\n  _origin = origin || 'https://api.emailjs.com';\n}\n\nexports.init = init;\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {Object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nfunction send(serviceID, templateID, templatePrams, userID) {\n  var params = {\n    lib_version: '2.4.1',\n    user_id: userID || _userID,\n    service_id: serviceID,\n    template_id: templateID,\n    template_params: appendGoogleCaptcha(templatePrams)\n  };\n  return sendPost(_origin + '/api/v1.0/email/send', JSON.stringify(params), {\n    'Content-type': 'application/json'\n  });\n}\n\nexports.send = send;\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nfunction sendForm(serviceID, templateID, form, userID) {\n  if (typeof form === 'string') {\n    form = document.querySelector(form);\n  }\n\n  if (!form || form.nodeName !== 'FORM') {\n    throw 'Expected the HTML form element or the style selector of form';\n  }\n\n  UI_1.UI.progressState(form);\n  var formData = new FormData(form);\n  formData.append('lib_version', '2.4.1');\n  formData.append('service_id', serviceID);\n  formData.append('template_id', templateID);\n  formData.append('user_id', userID || _userID);\n  return sendPost(_origin + '/api/v1.0/email/send-form', formData).then(function (response) {\n    UI_1.UI.successState(form);\n    return response;\n  }, function (error) {\n    UI_1.UI.errorState(form);\n    return Promise.reject(error);\n  });\n}\n\nexports.sendForm = sendForm;\nexports[\"default\"] = {\n  init: init,\n  send: send,\n  sendForm: sendForm\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar EmailJSResponseStatus =\n/** @class */\nfunction () {\n  function EmailJSResponseStatus(httpResponse) {\n    this.status = httpResponse.status;\n    this.text = httpResponse.responseText;\n  }\n\n  return EmailJSResponseStatus;\n}();\n\nexports.EmailJSResponseStatus = EmailJSResponseStatus;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar UI =\n/** @class */\nfunction () {\n  function UI() {}\n\n  UI.clearAll = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.remove(this.DONE);\n    form.classList.remove(this.ERROR);\n  };\n\n  UI.progressState = function (form) {\n    this.clearAll(form);\n    form.classList.add(this.PROGRESS);\n  };\n\n  UI.successState = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.add(this.DONE);\n  };\n\n  UI.errorState = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.add(this.ERROR);\n  };\n\n  UI.PROGRESS = 'emailjs-sending';\n  UI.DONE = 'emailjs-success';\n  UI.ERROR = 'emailjs-error';\n  return UI;\n}();\n\nexports.UI = UI;"],"sourceRoot":""}